<div class="container-fluid container-compact os-tab-container" ng-controller="User">
  <tabset>
    <tab heading="用户" select="user.init()">
      <div class="row row-in-tab os-row-no-padding">
        <div class="col-sm-12 input-group os-table-toolbar">
          <span class="input-group-addon"> 
            <i class="glyphicon glyphicon-search"></i>
          </span>
          <input type="text" class="form-control" placeholder="Filter..." ng-model="user.seach.name" />            
        </div>
        <div class="col-sm-12 os-table-container">
          <table class="table os-table">
            <thead>
              <tr>
                <th class="col-sm-1">ID</th>
                <th class="col-sm-5">用户</th>
                <th class="col-sm-2">状态</th>
                <th class="col-sm-3">组</th>
                <th class="col-sm-1">删除</th>
              </tr>
            </thead>
            <tbody ng-repeat="user in data.users | filter: user.seach">
              <tr>
                <td ng-click="data.showDetail(user)">{{user.uid}}</td>
                <td ng-click="data.showDetail(user)">
                  <i class="glyphicon glyphicon-user"></i>&nbsp;&nbsp;{{user.name}}
                </td>
                <td ng-click="data.showDetail(user)">
                  <span ng-show="true === user.login">已登录</span>
                  <span ng-show="true !== user.login">未登录</span>
                </td>
                <td ng-click="data.showDetail(user)">{{user.groups}}</td>
                <td>
                  <i class="glyphicon glyphicon-remove"></i>
                </td>
              </tr>
              <tr class="ng-hide" ng-show="user.bDetailShown">
                <td colspan="999">
                  <div class="panel os-panel">
                    <div class="panel-body">
                      <form class="form-horizontal os-form" role="form">
                        <div class="form-group">
                          <label class="col-sm-1 control-label">用户名</label>
                          <div class="col-sm-4">
                            <input type="text" class="form-control" ng-model="user.name" />
                          </div>
                          <label class="col-sm-1 control-label">ID</label>
                          <div class="col-sm-4">
                            <input type="text" class="form-control" ng-model="user.uid" />
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-sm-1 control-label">群组</label>
                          <div class="col-sm-4">
                            <input type="text" class="form-control" ng-model="user.groups" />
                          </div>
                          <label class="col-sm-1 control-label">初级群组</label>
                          <div class="col-sm-4">
                            <input type="text" class="form-control" ng-model="user.primary_group" />
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-sm-1 control-label">目录</label>
                          <div class="col-sm-4">
                            <input type="text" class="form-control" ng-model="user.primary_group" />
                          </div>
                          <label class="col-sm-1 control-label">登录状态</label>
                          <div class="col-sm-4">
                            <p class="form-control-static">
                              <span ng-show="true === user.login">已登录</span>
                              <span ng-show="true !== user.login">未登录</span>
                            </p>
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-sm-1 control-label">新密码</label>
                          <div class="col-sm-4">
                            <input type="password" class="form-control" ng-model="user.new_password" />
                          </div>
                        </div>
                        <div class="form-group os-submit-group">
                          <label class="col-sm-1 control-label"></label>
                          <div class="col-sm-4">
                            <button class="btn btn-default">确定</button>
                            <button class="btn btn-default">取消</button>
                          </div>
                        </div>
                      </form>
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
            <tfoot>
              <tr ng-show="user.adding">
                <td colspan="999">
                  <div class="panel os-panel">
                    <div class="panel-body">
                      <form class="form-horizontal os-form" role="form">
                        <div class="form-group">
                          <label class="col-sm-2 control-label">用户名</label>
                          <div class="col-sm-4">
                            <input type="text" class="form-control" ng-model="user.new.name" />
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-sm-2 control-label">密码</label>
                          <div class="col-sm-4">
                            <input type="password" class="form-control" ng-model="user.new.password" />
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-sm-2 control-label">群组</label>
                          <div class="col-sm-4">
                            <input type="text" class="form-control" ng-model="user.groups" />
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-sm-2 control-label">初级群组</label>
                          <div class="col-sm-4">
                            <input type="text" class="form-control" ng-model="user.primary_group" />
                          </div>
                        </div>
                        <div class="form-group os-submit-group">
                          <label class="col-sm-2 control-label"></label>
                          <div class="col-sm-4">
                            <button class="btn btn-default">确定</button>
                            <button class="btn btn-default">取消</button>
                          </div>
                        </div>
                      </form>
                    </div>
                  </div>
                </td>
              </tr>
            </tfoot>
          </table>          
        </div>
        <div class="col-sm-12 os-table-toolbar">
          <bttton class="btn btn-default" ng-click="data.showAddForm(user)"> <i class="glyphicon glyphicon-plus"></i>
            &nbsp;添加
          </bttton>
        </div>
      </div>
    </tab>
    <tab heading="组" select="group.init()">
      <div class="row row-in-tab os-row-no-padding">
        <div class="col-sm-12">
          <table class="table">
            <thead>
              <tr>
                <th colspan="999">
                  <div class="input-group">
                    <span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>
                    <input type="text" class="form-control" placeholder="Filter..." ng-model="group.search.name" />
                  </div>
                </th>
              </tr>
            </thead>
            <tbody ng-repeat="group in data.groups | filter: group.search">
              <tr> 
                <td class="col-sm-11" ng-click="data.showDetail(group)">{{group.name}}</td>
                <td class="col-sm-1">
                  <i class="glyphicon glyphicon-remove"></i>
                </td>
              </tr>
              <tr class="ng-hide" ng-show="group.bDetailShown">
                <td colspan="999">
                  <div class="panel os-panel">
                    <div class="panel-body">
                      <form class="form-horizontal os-form" role="form">
                        <div class="form-group">
                          <label class="col-sm-2 control-label">名称</label>
                          <div class="col-sm-4">
                            <input type="text" class="form-control" ng-model="group.name" ng-readonly="true" />
                          </div>
                          <label class="col-sm-2 control-label">ID</label>
                          <div class="col-sm-4">
                            <input type="text" class="form-control" ng-model="group.gid" />
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-sm-2 control-label">成员</label>
                          <div class="col-sm-10">
                            <label class="col-sm-2" ng-repeat="user in data.users">
                              <input type="checkbox" ng-model="group.member" name="{{group.name}}" ng-change="group.changMember(user, group)" />
                              {{user.name}}
                            </label>
                            <input type="ng" class="form-control" ng-model="user.member" />
                          </div>
                        </div>
                        <div class="form-group os-submit-group">
                          <label class="col-sm-2 control-label"></label>
                          <div class="col-sm-4">
                            <button class="btn btn-default">确定</button>
                            <button class="btn btn-default">取消</button>
                          </div>
                        </div>
                      </form>
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
            <tfoot>
              <tr>
                <td colspan="999">
                  <bttton class="btn btn-default" ng-click="data.showAddForm(group)">
                    <i class="glyphicon glyphicon-plus"></i>&nbsp;添加
                  </bttton>
                </td>
              </tr>
              <tr ng-show="group.adding">
                <td colspan="999">
                  <div class="panel os-panel">
                    <div class="panel-body">
                      <form class="form-horizontal os-form" role="form">
                        <div class="form-group">
                          <label class="col-sm-2 control-label">名称</label>
                          <div class="col-sm-4">
                            <input type="text" class="form-control" ng-model="group.name" />
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="col-sm-2 control-label">成员</label>
                          <div class="col-sm-10">
                            <label class="col-sm-2" ng-repeat="user in data.users">
                              <input type="checkbox" ng-model="group.member" name="{{group.name}}" ng-change="group.changMember(user, group)" />
                              {{user.name}}
                            </label>
                            <input type="ng" class="form-control" ng-model="user.member" />
                          </div>
                        </div>
                        <div class="form-group os-submit-group">
                          <label class="col-sm-2 control-label"></label>
                          <div class="col-sm-4">
                            <button class="btn btn-default">确定</button>
                            <button class="btn btn-default">取消</button>
                          </div>
                        </div>
                      </form>
                    </div>
                  </div>
                </td>
              </tr>
            </tfoot>
          </table>
        </div>
      </div>
    </tab>
  </tabset>
</div>
